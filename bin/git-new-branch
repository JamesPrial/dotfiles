#!/usr/bin/env bash
# git-new-branch - Create and switch to a new branch from main
set -euo pipefail

if [[ $# -lt 1 ]]; then
    echo "Usage: git-new-branch <branch-name>" >&2
    exit 1
fi

branch_name="$1"

# Fetch latest main
git fetch origin main 2>/dev/null || true

# Create and switch to new branch from main
git switch -c "$branch_name" origin/main
